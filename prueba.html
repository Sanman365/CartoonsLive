<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Cinepatos - Reportar Problema</title>
<style>
        body { font-family: Arial, sans-serif; background-color: #f0f0f0; padding: 20px; }
        iframe { width: 100%; height: 300px; border: 1px solid #ccc; margin-bottom: 20px; }
        .boton-reporte {
            display: inline-block;
            padding: 10px 15px;
            margin: 5px;
            background-color: #e74c3c;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
    </style>
<script>
        function enviarReporte(tipo) {
            const videoUrl = document.querySelector('iframe').src;
            const formData = new FormData();
            formData.append('video_url', videoUrl);
            formData.append('tipo_reporte', tipo);

            fetch('reporte.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(data => alert(data))
            .catch(error => console.error('Error:', error));
        }
    </script>
</head>
<body>
<h1>Cinepatos - Reportar Problema del Video</h1>
<iframe allowfullscreen="" src="https://example.com/video"></iframe>
<!-- Botones de reporte con IDs únicos -->
<button class="boton-reporte" id="reportarNoReproduce">No se reproduce</button>
<button class="boton-reporte" id="reportarAudio">Audio desincronizado</button>
<button class="boton-reporte" id="reportarCalidad">Calidad baja</button>
<button class="boton-reporte" id="reportarOtro">Otro problema</button>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<!-- Incluye tu archivo JavaScript como módulo -->
<script src="../superbase.js" type="module"></script>


<h2>¿Qué problema tiene el video?</h2>
<form action="reporte.php" method="post">
<p>Elige el problema del video:</p>
<button name="reporte" type="submit" value="No se reproduce">No se reproduce</button>
<button name="reporte" type="submit" value="Audio desincronizado">Audio desincronizado</button>
<button name="reporte" type="submit" value="Calidad baja">Calidad baja</button>
<button name="reporte" type="submit" value="Otro problema">Otro problema</button>
</form>

<!-- Botones de reporte con IDs únicos -->
<script>
    // Asignar eventos a los botones de reporte
    document.getElementById('reportarNoReproduce').addEventListener('click', () => enviarReporte('No se reproduce'));
    document.getElementById('reportarAudio').addEventListener('click', () => enviarReporte('Audio desincronizado'));
    document.getElementById('reportarCalidad').addEventListener('click', () => enviarReporte('Calidad baja'));
    document.getElementById('reportarOtro').addEventListener('click', () => enviarReporte('Otro problema'));
</script>
<!-- Incluye tu archivo JavaScript como módulo -->


<!-- Fondo oscurecido -->
<div id="fondo-oscuro" class="fondo-oscuro"></div>

<!-- Aviso de reporte enviado correctamente -->
<div id="aviso-exito" class="aviso">
    <span>Tu reporte se ha enviado correctamente.</span>
</div>

<!-- Aviso de reporte ya enviado -->
<div id="aviso-ya-enviado" class="aviso aviso-error">
    <span>Ya has enviado un reporte para este video. Se revisará lo más pronto posible.</span>
</div>
</body>
</html>
